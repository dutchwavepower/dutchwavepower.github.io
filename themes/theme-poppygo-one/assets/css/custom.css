/* themes/theme-poppygo-one/assets/css/custom.css */

.force-16-9-ratio {
    position: relative !important;
    width: 100%;
    padding-bottom: 56.25% !important;
    height: 0 !important;             /* The target */
    overflow: hidden;
    min-height: 0 !important;         /* Prevent minimum height from interfering */
    align-self: start !important;     /* Prevent grid/flex item stretching */
    flex-shrink: 0 !important;        /* Prevent flex item shrinking */
    
    /* NEW: Explicitly define grid row behavior for this item if it's a grid child */
    /* This aims to prevent grid-auto-rows or implicit row sizing from affecting height */
    grid-row: auto / span 1 !important; /* Forces it to occupy one row only, and auto-size its content row */
    grid-template-rows: none !important; /* Ensure no template rows are forcing its height */
}

/* Rules for the inner video/image elements */
.force-16-9-ratio video,
.force-16-9-ratio img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Also ensure no other inherited height from 'col-span' or 'row-start' if present */
/* We're keeping these as they increase specificity to counter other potential grid classes */
[class*="col-span-"] > .force-16-9-ratio,
[class*="row-start"] > .force-16-9-ratio,
[class*="row-end"] > .force-16-9-ratio {
    height: 0 !important;
    min-height: 0 !important;
    /* Redundant but for absolute certainty on specific grid interactions */
    grid-row: auto / span 1 !important;
}
