{{- $page := .page -}}
{{- $content := .content -}}
{{- $design := .design -}}
{{- $size := "w-52 lg:w-60 xl:w-68 max-h-full" -}}
{{- $transparent := "" -}}
{{- if eq $content.bg_color "bg-transparent" -}}{{- $transparent = "absolute z-10 top-0 left-0 w-full" -}} {{- end -}}

{{- with $design -}}
<div class="{{$transparent}}">
  <div class= "{{$content.bg_color}} w-full {{.rounded}} px-3 container mx-auto">
    <div class="flex justify-between mx-auto">
      <div class="w-1/2 sm:w-1/3 md:w-1/3 lg:w-1/4 xl:w-1/5 flex items-center">
        <div class="flex-auto flex items-center">
            {{- partial "poppy-elements/logo" (dict "content" $content "design" $design) -}}
        </div>
      </div>
      <div class="flex items-center justify-end {{.menu}} lg:hidden block text-right w-20">
          <button id="hamburger" class="text-4xl py-5 focus:outline-none">
          &#9776;
        </button>
      </div>

      <div class="items-center hidden lg:flex lg:items-right px-3 ">
        <div>
          <ul class="lg:flex {{$design.menu}} pt-4 md:pt-0 ">
            {{- range first 1 $content.menus -}}
                {{- range .items -}}
                  <li class="justify-end flex my-1 lg:my-1 mx-1 lg:mx-1 ">
                    <a title="{{ .name }}" class="lg:px-2 py-1 px-0 block border-b-2 border-transparent hover:border-poppycolor2 " href="{{ .url }}">{{ .name }}</a>
                  </li>
                {{- end -}}
            {{- end -}}
          </ul>
        </div>
      </div>
    </div>

    <div class="p-3 items-center hidden lg:hidden lg:flex lg:items-right px-3 bg_opacity-50 {{$content.item_bg_color}} {{.rounded}} {{.shadow}}" id="menu">
      <div>
        <ul class="lg:flex {{$design.menu}} pt-4 md:pt-0 ">
          {{- range first 1 $content.menus -}}
              {{- range .items -}}
                <li class="justify-end flex my-1 lg:my-1 mx-1 lg:mx-1 ">
                  <a title="{{ .name }}" class="lg:px-2 py-1 px-0 block border-b-2 border-transparent hover:border-poppycolor2 " href="{{ .url }}">{{ .name }}</a>
                </li>
              {{- end -}}
          {{- end -}}
        </ul>
      </div>
    </div>
  </div>
</div>

{{- end -}}

<script>
    let hamburger = document.getElementById('hamburger');
    let menu = document.getElementById('menu');
    hamburger.addEventListener('click', function(){menu.classList.toggle('hidden');});
</script>
