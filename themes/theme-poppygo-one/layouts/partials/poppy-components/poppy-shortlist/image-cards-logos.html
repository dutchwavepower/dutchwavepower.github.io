{{- $page := .page -}}
{{- $content := .content -}}
{{- $design := .design -}}

<div class="poppy-image-cards {{ with $design.background_color }}{{ . }}{{ end }}">
    {{- with $content -}}
        {{- if .items -}}
            <div class="poppy-image-cards-container">
                {{- range $item := .items -}}
                    <div class="poppy-image-card">
                        {{- $link := $item.link | default "#" -}}
                        {{- $class := "image-class-default" -}}
                        {{- $style := "" -}}
                        {{- /* Example of how $item.style might have been handled, specific to image */ -}}
                        {{- if $item.style -}}
                            {{- $style = $item.style -}}
                        {{- end -}}

                        <a href="{{ $link }}">
                            {{- partial "poppy-elements/image" (dict "resource_page" $page "name" $item.image "class" $class "alt" ($item.title | default "image") "style" $style) -}}
                        </a>
                        {{- with $item.title -}}<h3>{{ . }}</h3>{{- end -}}
                        {{- with $item.bodytext -}}<p>{{ . | markdownify }}</p>{{- end -}}
                        {{- partial "poppy-elements/buttons" (dict "buttons" $item.buttons) -}}
                    </div>
                {{- end -}}
            </div>
        {{- end -}}
    {{- end -}}
</div>



<!-- 

{{- $page := .page -}}
{{- $content := .content -}}
{{- $design := .design -}}

{{- with $design -}}
<div class="{{.vertical_space}}">
    {{ if $content.title }}<h3 class="{{.title}}">{{ $content.title }}</h3>{{ end }}
    {{ if $content.subtitle }}<p class="{{.subtitle}}">{{ $content.subtitle }}</p>{{ end }}

    <div class="poppy-logo-banner-wrapper">
        <div class="poppy-logo-banner">
            {{- range $item := $content.items -}}
                {{ if and $item.image (not (eq $item.image "none")) -}}
                    <div class="poppy-logo-item">
                        {{ if $item.link }}
                            <a href="{{ $item.link | safeURL }}" target="_blank" rel="noopener">
                                {{- partial "poppy-elements/image-logos" (dict "resource_page" $page "name" $item.image "class" "h-full w-full object-contain" "alt" ($item.name | default "logo") "logo_style" $item.logo_style) -}}
                            </a>
                        {{ else }}
                            {{- partial "poppy-elements/image-logos" (dict "resource_page" $page "name" $item.image "class" "h-full w-full object-contain" "alt" ($item.name | default "logo") "logo_style" $item.logo_style) -}}
                        {{ end }}
                    </div>
                {{- end -}}
            {{- end -}}

            {{/* This second loop duplicates the logos to create the seamless infinite scroll effect */}}
            {{- range $item := $content.items -}}
                {{ if and $item.image (not (eq $item.image "none")) -}}
                    <div class="poppy-logo-item" aria-hidden="true"> {{/* aria-hidden for accessibility on duplicate elements */}}
                        {{ if $item.link }}
                            <a href="{{ $item.link | safeURL }}" target="_blank" rel="noopener">
                                {{- partial "poppy-elements/image-logos" (dict "resource_page" $page "name" $item.image "class" "h-full w-full object-contain" "alt" ($item.name | default "logo") "logo_style" $item.logo_style) -}}
                            </a>
                        {{ else }}
                            {{- partial "poppy-elements/image-logos" (dict "resource_page" $page "name" $item.image "class" "h-full w-full object-contain" "alt" ($item.name | default "logo") "logo_style" $item.logo_style) -}}
                        {{ end }}
                    </div>
                {{- end -}}
            {{- end -}}
        </div>
    </div>
</div>
{{- end -}}
 -->
